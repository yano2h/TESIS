<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">
    <ui:composition template="#{pages.layout_solicitud}">
        <ui:define name="content">
            <h:form id="formSol">
                <p:panel id="crearSol" header="Crear Solicitud">
                    <h:panelGrid columns="2">
                        <h:outputLabel value="#{msg_sol.LabelTituloSol}:*" for="tituloSol" />
                        <p:inputText id="tituloSol" value="#{mbCrearSolicitud.solicitud.asunto}" required="true" requiredMessage="Este campos es obligatorio" maxlength="45" size="45"/>

                        <h:outputLabel value="#{msg_sol.LabelTipoSol}:*" for="tipoSol"/>
                        <p:selectOneMenu id="tipoSol" value="#{mbCrearSolicitud.solicitud.tipoSolicitud}" required="true">
                            <f:selectItem itemValue="" itemLabel="#{msg_sol.DefaulTipoSol}" noSelectionOption="true" />
                            <f:selectItems value="#{tipoSolicitudRequerimientoController.itemsAvailableSelectOne}"/>
                        </p:selectOneMenu>

                        <h:outputLabel value="#{msg_sol.LabelAreaSol}:*" for="areaSol"/>
                        <p:selectOneMenu widgetVar="areaSol" id="areaSol" value="#{mbCrearSolicitud.solicitud.areaResponsable}" required="true">
                            <f:selectItem itemValue="" itemLabel="#{msg_sol.DefaulAreaSol}" noSelectionOption="true"/>
                            <f:selectItems value="#{areaController.itemsAvailableSelectOne}"/>
                        </p:selectOneMenu> 

                    </h:panelGrid>
                    <br/>
                    <h:panelGrid>
                        <h:outputLabel value="#{msg_sol.LabelMensajeSol}:*" for="mensajeSol" style="margin-top: 10px;"/>
                        <p:editor id="mensajeSol" widgetVar="mensajeSol" value="#{mbCrearSolicitud.solicitud.mensaje}" width="700" required="true"/>
                        
                    </h:panelGrid>  
                    <br/>
                    <h:panelGrid columns="3">
                        <p:commandButton value="Enviar" actionListener="#{mbCrearSolicitud.enviar}"  />
                        <p:commandButton id="clear" value="Limpiar" type="button" onclick="mensajeSol.clear()" />
                        <p:commandButton value="Cancelar" immediate="true" action="resumenSolicitante?faces-redirect=true" />      
                    </h:panelGrid>
                </p:panel>   
                
                <p:dialog header="Selected Values" modal="true" showEffect="fade" hideEffect="fade" widgetVar="dlg">  
                <h:panelGrid columns="1" id="display">  
                    <h:outputText value="Su solicitud ha sido enviada exitosamente" />  
                    <h:outputText value="su numero de consulta es: #{mbCrearSolicitud.codigoConsulta}" /> 
                </h:panelGrid>
                </p:dialog>
            </h:form>
        </ui:define>
    </ui:composition>
</html>

